# 技术中台解决方案

## 概述

随着软件行业的发展，企业信息化的推进，原先的烟囱式开发模式以及单体架构越来越不能适应信息化的浪潮。面对项目更迭周期的缩短，业务的复杂化，服务的多样性化，技术中台则能能很好面对挑战

## 用户场景

**功能重复编写**
各个系统独自开发，每次新系统都要重新建设系统，然而这些系统之间却往往存在类似的模块，这就造成每次都要写类似的模块，造成重复开发

**团队壁垒**
各个小组之间的 IT 系统和业务线各自建设，存在大量重复投入，浪费团队大量时间，无法形成团队特性

**单体架构旋涡**
随着系统规模增加，单体应用的可维护性及复杂度变得越来越难以掌控，横向扩展时服务器要符合所有模块要求，硬件配置要求高

**统合管理**
由于企业存活时间久，前前后后建设了很多项目，但是这些项目却是各自为政，在每个项目上都要花费一定人力物力去管理，浪费大量人力物力，同时这些缺少对外统一入口，让客户使用起来觉得越来越麻烦，亟需有一个平台实现各业务的统合管理

**赋能**
随着技术的日新月异，客户需求越来越多样，原先的单体烟囱模式已经越来越难适应时代浪潮，重复劳动花费了大量时间，且各小组各自建设，导致企业代码难以得到有效沉淀，因此亟需一个平台将劳动力解放，方便聚合各个团队的沉淀，能更方便修改使用的技术体系

## 痛点

**项目更迭周期越来越短**
随着信息行业市场竞争的日趋激烈，对软件的要求也越来越严苛以及多样，从而导致项目更迭周期越来越短，这就导致软件质量越来越难以控制 ， 因此需要优秀的持续集成，持续发布管理

**业务逐渐复杂化**
客户的需求变多，导致业务变的越来越复杂，而复杂的业务则会导致开发周期变长

**框架设计**
技术中台是整个中台体系的支撑，因此需要确定好各个构成组件，明确组件的职责 , 明确划分服务，确认服务边界，服务与服务的互通方式，并且这些都不是技术人员自己去想当然的任务该有哪些，该做到什么程度，而是要以公司现在以及未来的业务方向为明确依据

**持续集成、持续发布规范设置**
拆分成多服务也要求代码结构有相似性，命名也要有规范，不然对开发很不友好，这个这样项目结构，这样命名，那个那样项目结构，那样命名，开发要先发力气去搞清这些东西，另外就是构建时，如果没规划好项目结构，导致要根据每个任务写相应的任务配置，几个任务还好，任务一多就不好管理，并且新入运维也不好接替工作，因为他需要一个一个去看这些任务配置
另一个就是版本管理规范，对于一个项目而言，这个开一个分支，哪个开一个分支，分支多了，别人不好接替，亦或是提交信息千奇百怪，别人看更改也看得辛苦，让代码基线显得很混乱，想象一下当成十上百的服务项目是这样会怎样
DevOps 要求开发最好要懂点运维知识，但是要求每个开发熟悉 k8s 配置那是很困难的，因此没有规范 k8s 发布配置的话，会导致有些开发想改配置也会有些无从下手，不得不去找运维，浪费了一大笔时间

![背景.jpg](https://cdn.nlark.com/yuque/0/2022/jpeg/21644443/1653986436067-43acaccf-3fab-4d56-aea7-2da5a06c305d.jpeg#clientId=u579bb97b-a25a-4&crop=0&crop=0&crop=1&crop=1&from=ui&id=aRmzq&name=%E8%83%8C%E6%99%AF.jpg&originHeight=970&originWidth=1284&originalType=binary&ratio=1&rotation=0&showTitle=false&size=80376&status=done&style=none&taskId=uf1b89c7d-8795-42e6-8ed9-da6d3e15bf6&title=)

## 方案优势

技术中台采用微服务架构方式，集成短信服务，身份认证，网关服务等多个基础服务，为业务服务，数据服务提供支撑。将基础服务划分出来，通过对技术中台不断更新与迭代，能形成公司独有的沉淀，形成企业特色，同时良好应对未来企业行业发展

**分布式服务架构方式**
采用微服务架构方式建构中台服务，各服务分隔开来；采用接口 http 调用方式互相关联，消除服务与服务的粘连；除去核心模块（权限，授权），其他模块停止也不会相互影响；十分方便开发人员维护各自服务，也让各个服务的沉淀变得轻松；也增强了应用的健壮性

**服务调用方便**
采用 http 调用方式，包含常用基础服务，使得上层服务对技术中台服务的调用轻松写意，使得结构清晰，方便上层服务开发人员专注自己服务。

**轻松发布部署**
使用 git+jenkins+k8s 方式： 使用 git 作为版本管理方式，方便且高效；jenkins 一次配置，持续使用，从此和打 jar 包，打 war 包然后复制粘贴到服务器上说拜拜；代码中包含 k8s 的 yaml 配置文件，轻松修改；使用 kuboard 管理监控应用，伸缩方便，日志一目了然。

**告警通知**
集成告警通知到钉钉，能及时发现问题，分析问题，解决问题，保证环境稳定。再也不用时不时跑到监控页面去查看情况了

**完备的持续集成，持续发布规范**
有完备持续集成规范，代码分支有相应命名规范，代码提交有相应的提交信息规范，使得代码基线清晰明了，也能很轻松知道别人改了什么；规范化的代码结构可以让 jenkins 任务配置得以按同一模板来配置，使得 jenkins 配置更为简便，减少了运维工作量，也让新入员工能更快接手工作
每个项目都按 k8s 的发布配置模板进行发布配置，能让开发人员只需要知道配置文件的环境变量在哪设置，使得 devops 流程更加顺畅，同时也使得开发人员不需要对 k8s 的技术栈很深

## 方案架构

技术中台集成基础服务、运维管理与监控告警为一体，为业务中台与数据中台提供支撑

![技术中台架构 (1).jpg](https://cdn.nlark.com/yuque/0/2022/jpeg/21644443/1653990593077-c22d77c3-39f7-4929-8949-e463930d6463.jpeg#clientId=u66709fee-2022-4&crop=0&crop=0&crop=1&crop=1&from=ui&id=u035736be&name=%E6%8A%80%E6%9C%AF%E4%B8%AD%E5%8F%B0%E6%9E%B6%E6%9E%84%20%281%29.jpg&originHeight=778&originWidth=1692&originalType=binary&ratio=1&rotation=0&showTitle=false&size=118660&status=done&style=none&taskId=u130b6473-c600-4fae-82ca-4ecf39d90cb&title=)
**集成服务**
为业务中台，数据中台提供基础服务，使它们可以集中于自身的管理，包含权限，授权，存储，通知等常用服务，各个服务之间通过 http 方式调用，解除服务之间粘连。为上层服务提供强有力的支撑

**运维**
持续集成，持续发布以及运行环境管理，为项目的快速构建、快速发布、及时排错提供支撑。使用 git 作为版本管理器管理版本，方便版本管理，使用 jenkins 作为发布核心，能轻松发布项目，使用 k8s 作为容器编排器 ，方便地管理容器，再加上 kubaord 作为管理平台，能方便地管理应用。

**监控**
使用 kuboard 方便且快速地查看日志，快速定位问题。通过钉钉告警及时通知工作人员，让工作人员及时了解情况，解决问题；通过 pretheus+granfana， 能快速查看服务器及数据库状态

## 推荐产品

无
