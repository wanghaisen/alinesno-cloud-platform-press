# 环境准备

## 概述

这里针对的环境的安装和搭建，包括资源的要求，这里只是列出参数，同时包含有团队的人数的要求。
当前的资源是针对于演示版本的环境搭建情况为参考

## 资源要求

> 这里针对的研发平台，建议采购阿里云，较为稳定

| 序号 | 服务器用途     | 服务器配置                | 采购价 | 备注                                   |
| :--: | -------------- | ------------------------- | ------ | -------------------------------------- |
|  1   | 研发服务器-01 | 8 核 32G 内存 200G 硬盘 5M | 3k3 年 | 部署基础套件|
|  2   | 运维服务器-02 | 4 核 16G 内存 300G 硬盘 5M | 2k3 年 | 部署运维套件|
 
 **安装说明**
 - 操作系统选择CentOS7_64位（研发服务器建议是32G，可16G但不推荐）
 - 没有部署运维套件的可不选择配置两台服务器
 - 这里建议内网部署而非外肉部署

**注意事项**

- 采购价是阿里云活动的新用户采购价
- 这里不包含 cicd 工具，此部分属于技术体系[查看](/env/development/)
- 日志存储为单独服务器，不包含这上面

## 基础环境要求

> 可选是根据安装组件和规模进行安装，比如生产集群，主多同步等

- 【必须】mysql，查看安装文档 [打开][mysql]
- 【必须】minio，查看安装文档 [打开][minio]
- 【可选】redis，查看安装文档 [打开][redis]
- 【可选】elasticsearch，查看安装文档 [打开][elasticsearch]

ACP基础环境要求按最小需求进行安装，以减少团队在应用层面上的最小部署负担

[mysql]: /operation/08_mysql/01_MySQL单点安装.md
[redis]: /operation/06_redis/01_Redis单点安装.md
[minio]: /operation/27_minio/01_MinIO单机安装.md
[elasticsearch]: /operation/22_elk/04_elk单机版本安装.md


## 网络策略要求

针对于内部网络安全等因素，需要开通的端口策略如下：

| 序号 | 服务               | 前端端口 | 后端端口 | 备注 |
|:----:|--------------------|----------|----------|------|
| 1    | 代码生成器服务     | 25209    | 25009    |      |
| 2    | 权限资源引擎服务   | 25200    | 29000    |      |
| 3    | 云门户管理服务     | 25218    | 25018    |      |
| 4    | 网关管理服务       | 25207    | 25007    |      |
| 5    | 分布式消息管理服务 | 28399    | 28489    |      |
| 6    | 通知管理服务       | 30203    | 30003    |      |
| 7    | 存储管理服务       | 25205    | 25005    |      |
| 9    | 单点登陆管理服务   | 25241    | 25041    |      |
| 10   | 网关开放平台服务   | 28397    | 28197    |      |
| 11   | 中台管理服务       | 25201    | 25001    |      |
|      |                    |          |          |
| 12   | 日志监控服务       | 26109    | 27109    |      |
| 13   | 自动化运维平台     | 26209    | 27209    |      |
| 14   | 应用监控服务       | 26309    | 27309    |      |
|      |                    |          |          |    |

注意点说明:
- k8s安装的时候，注意端口范围，建议`20000+`开头，有些安装器默认是30000+开头
- 如果配置了域名，或者ingress，以上的配置则可以不需要，单独配置出端口即可

## 安装方式

这里主要集成多种安装方式，针对不同的场景，如下：

- 【推荐】在线安装，[打开][online_install]
- 【一般】离线安装，[打开][offline_install]
- 【一般】源码安装，[打开][source_install]

针对团队不同的情况进行选择安装。

[online_install]: /operation/81_install/21_安装流程.md
[offline_install]: /operation/81_install/25_Docker单独安装.md
[source_install]: /operation/81_install/24_Jenkinsfile安装.md

## 其它

- 无
